
var data = [
    {
        discount: "22% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/409522/ramaraju_cotton_wool_500_gm_0.jpg",
        name: "Ramaraju Cotton Wool 500 gm",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Ramaraju Surgical Cotton Mills Ltd",
        best_price: "350",
        mrp_price: "449"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/804474/3m_opticlude_orthoptic_eye_patches_1539_20s_0_1.jpg",
        name: "3M Opticlude Orthoptic Eye Patches (1539) 20's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: 3M india Ltd",
        best_price: "420",
        mrp_price: "600"
    },
    {
        discount: "10% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/997559/resist_ask_life_saver_blood_stop_gauze_980351_4s_0_0.jpg",
        name: "Resist + Ask+ Life Saver Blood Stop Gauze (980351) 4's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Axio Biosolutions Pvt.Ltd",
        best_price: "2565",
        mrp_price: "2850"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/996405/hi_grip_vc_advanced_compression_bandage_soft_10_cm_x_4_cm_1s_0_0.jpg",
        name: "Hi Grip VC Advanced Compression Bandage Soft (10cm ✕ 4cm)",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Zywie Pharmaceutical Pvt.Ltd",
        best_price: "357.00",
        mrp_price: "510.00"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/996404/hi_grip_vc_advanced_compression_bandage_soft_15_cm_x_4_cm_1s_0_0.jpg",
        name: "Hi Grip VC Advanced Compression Bandage Soft (15cm ✕ 4cm)",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Zywie Pharmaceutical Pvt.Ltd",
        best_price: "461.00",
        mrp_price: "659.00"
    },
    {
        discount: "54% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995732/primecast_fibreglass_casting_tape_5_1_cm_x_3_6_mtr_yellow_1s_0_0.jpg",
        name: "Primecast Fibreglass Casting Tape (5.1cm ☓ 3.6 mtr) - Yellow",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Prime Medica Promotion Pvt.Ltd",
        best_price: "322.00",
        mrp_price: "700.00"
    },
    {
        discount: "54% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995731/primecast_fibreglass_casting_tape_5_1_cm_x_3_6_mtr_orange_1s_0_0.jpg",
        name: "Primecast Fibreglass Casting Tape (5.1cm ☓ 3.6 mtr) - Orange",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Prime Medica Promotion Pvt.Ltd",
        best_price: "322.00",
        mrp_price: "700.00"
    },
    {
        discount: "54% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995730/primecast_fibreglass_casting_tape_5_1_cm_x_3_6_mtr_pink_1s_0_0.jpg",
        name: "Primecast Fibreglass Casting Tape (5.1cm ☓ 3.6 mtr) - Pink",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Prime Medica Promotion Pvt.Ltd",
        best_price: "322.00",
        mrp_price: "700.00"
    },
    {
        discount: "57% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995729/primecast_fibreglass_casting_tape_12_7_cm_x_3_6_mtr_yellow_1s_0_0.jpg",
        name: "Primecast Fibreglass Casting Tape (12.7cm ☓ 3.6 mtr) - Yellow",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Prime Medica Promotion Pvt.Ltd",
        best_price: "537.00",
        mrp_price: "1250.00"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995539/dolphin_petcryl_polyglactin_910_coated_braided_suture_ds_2346_90_cm_1_0_violet_0_1.jpg",
        name: "Dolphin Petcryl Polyglactin 910 Coated & Braided Suture (DS 2346) ",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Futura Surgicare Pvt.Ltd",
        best_price: "462.00",
        mrp_price: "660.00"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995537/dolphin_petcryl_polyglactin_910_coated_braided_suture_ds_2317_90_cm_2_0_0_1.jpg",
        name: "Dolphin Petcryl Polyglactin 910 Coated & Braided Suture (DS 2317) ",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Futura Surgicare Pvt.Ltd",
        best_price: "420.00",
        mrp_price: "600.00"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/995539/dolphin_petcryl_polyglactin_910_coated_braided_suture_ds_2346_90_cm_1_0_violet_0_1.jpg",
        name: "Dolphin Petcryl Polyglactin 910 Coated & Braided Suture (DS 2345) ",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Futura Surgicare Pvt.Ltd",
        best_price: "463.00",
        mrp_price: "662.00"
    },
    {
        discount: "48% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/987708/velfix_easy_pad_non_woven_dressing_with_non_adherent_pad_10_cm_x_35_cm_1s_0_0.jpg",
        name: "Velfix - Easy + Pad Non Woven Dressing with Non Adherent Pad (5514E) (10 cm x 35 cm) 1's ",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Datt Mediproducts Pvt.Ltd",
        best_price: "131.04",
        mrp_price: "252.00"
    },
    {
        discount: "56% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/987704/velfix_easy_pad_non_woven_dressing_with_non_adherent_pad_8_cm_x_15_cm_1s_0_0.jpg",
        name: "Velfix - Easy + Pad Non Woven Dressing with Non Adherent Pad (5507E) (8 cm x 15 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Datt Mediproducts Pvt.Ltd",
        best_price: "36.08",
        mrp_price: "82.00"
    },
    {
        discount: "42% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/987705/velfix_easy_pad_non_woven_dressing_with_non_adherent_pad_10_cm_x_20_cm_1s_0_0.jpg",
        name: "Velfix - Easy + Pad Non Woven Dressing with Non Adherent Pad (5508E) (10 cm x 20 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Datt Mediproducts Pvt.Ltd",
        best_price: "71.34",
        mrp_price: "123.00"
    },
    {
        discount: "35% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/987702/velfix_easy_pad_non_woven_dressing_with_non_adherent_pad_10_cm_x_10_cm_1s_0_0.jpg",
        name: "Velfix - Easy + Pad Non Woven Dressing with Non Adherent Pad (5508E) (10 cm x 20 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "MKT: Datt Mediproducts Pvt.Ltd",
        best_price: "154.05",
        mrp_price: "237.00"
    },
    {
        discount: "31% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/986480/bsn_rapidur_plaster_of_paris_bandage_15_cm_x_2_7_mtr_12s_0_0.jpg",
        name: "BSN Rapidur Plaster of Paris Bandage (15 cm x 2.7 mtr) 12's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Essity India Pvt Ltd",
        best_price: "1813.32",
        mrp_price: "2628.00"
    },
    {
        discount: "31% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/986476/bsn_leukofix_porous_surgical_tape_pe_5_cm_x_9_14_mtr_6s_0_0.jpg",
        name: "BSN Leukofix Porous Surgical Tape (PE) (5 cm x 9.14 mtr) 6's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Essity India Pvt Ltd",
        best_price: "884.30",
        mrp_price: "1195.00"
    },
    {
        discount: "28% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/1059658/essity_dynacast_prelude_pre_cut_synthetic_splint_system_12_5_cm_x_76_cm_1s_465756_0_0.jpg",
        name: "Essity Dynacast Prelude Pre - Cut Synthetic Splint System (12.5 cm x 76 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Essity India Pvt Ltd",
        best_price: "1379.52",
        mrp_price: "1916.00"
    },
    {
        discount: "30% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/1040903/johnson_johnson_ethicon_vicryl_absorbable_surgical_suture_2_0_70_cm_nw2341_1s_398819_0_0.jpg",
        name: "Johnson & Johnson Ethicon Vicryl Absorbable Surgical Suture (2-0) (70 cm) (NW2341)",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Johnson & Johnson Pvt Ltd",
        best_price: "323.40",
        mrp_price: "462.00"
    },
    {
        discount: "28% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/1040902/johnson_johnson_ethicon_vicryl_plus_absorbable_surgical_suture_3_0_45_cm_vp2401_1s_398820_0_0.jpg",
        name: "Essity Dynacast Prelude Pre - Cut Synthetic Splint System (12.5 cm x 76 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Johnson & Johnson Pvt Ltd",
        best_price: "338.80",
        mrp_price: "484.00"
    },
    {
        discount: "28% OFF",
        image_url: "https://www.netmeds.com/images/product-v1/150x150/1029940/johnson_johnson_ethicon_vicryl_plus_absorbable_surgical_suture_90_cm_vp2346_1s_0_0.jpg",
        name: "Essity Dynacast Prelude Pre - Cut Synthetic Splint System (12.5 cm x 76 cm) 1's",
        category: "Surgical",
        sub_category: "Dressing",
        company_name: "Mkt: Johnson & Johnson Pvt Ltd",
        best_price: "534.10",
        mrp_price: "630.00"
    }
]

var datafromlocal = JSON.parse(localStorage.getItem("newcart")) || [];
DisplayDressing(data);
function DisplayDressing(data) {
  document.querySelector("#dressing").innerHTML = "";
  data.map(function (ele, i) {
    var div = document.createElement("div");
    var discount = document.createElement("p");
    var dis_span = document.createElement("span");
    dis_span.innerText = ele.discount;
    discount.append(dis_span);

    var image = document.createElement("img");
    image.setAttribute("src", ele.image_url);

    var name = document.createElement("h4");
    name.innerText = ele.name;

    var para = document.createElement("p");
    var span1 = document.createElement("span");
    span1.innerText = ele.category;
    var span2 = document.createElement("span");
    span2.innerText = ele.sub_category;
    para.append(span1, span2);

    var company_name = document.createElement("p");
    company_name.innerText = ele.company_name;

    var best_price = document.createElement("h4");
    sub_best = document.createElement("span");
    sub_best.innerText = "Best Price";
    sub_best_price = document.createElement("span");
    sub_best_price.innerText = ele.best_price;
    best_price.append(sub_best, sub_best_price);

    var mrp_price = document.createElement("h5");
    sub_mrp = document.createElement("span");
    sub_mrp.innerText = "MRP Price";
    sub_mrp_price = document.createElement("span");
    sub_mrp_price.innerText = ele.mrp_price;
    mrp_price.append(sub_mrp, sub_mrp_price);
    var button = document.createElement("button");
    button.innerText = "ADD TO CART";
    button.setAttribute("class", "cartbtn");
    button.addEventListener("click", function () {
      addcart(ele.id, i);
    });

    div.append(
      discount,
      image,
      name,
      para,
      company_name,
      best_price,
      mrp_price,
      button
    );
    document.querySelector("#dressing").append(div);
    localStorage.setItem("dressings", JSON.stringify(data));
  });
}
// newe cart making

var id = 500;
data.map((elem) => {
  elem.id = id;
  id++;
});

var productIncart = JSON.parse(localStorage.getItem("newcart")) || [];
console.log(productIncart);
function addcart(id, i) {
  if (productIncart.length == 0) {
    data[i].qty = +1;
    productIncart.push(data[i]);
  } else {
    var flag = false;
    productIncart.map((e) => {
      if (e.id == id) {
        e.qty = +e.qty + 1;
        flag = true;
      }
    });

    if (!flag) {
      data[i].qty = +1;
      productIncart.push(data[i]);
    }
  }

  // productIncart.push(product[0]);
  localStorage.setItem("newcart", JSON.stringify(productIncart));
}

// new cart end

//-------------------cart-------------------- //

var productincart=JSON.parse(localStorage.getItem("newcart")) || [];
function addToCart(index){
  var product=data.filter(function(element,i){
    return i==index;
  })
  productincart.push(product[0]);
  localStorage.setItem("cartproduct",JSON.stringify(productincart))
}
// var num =dressing[0].best_price.slice(4,);
// num =parseInt(num)
// console.log(typeof num);
function HighToLow() {
  console.log("hightolow")
    data.sort(function (x, y) {
        console.log(parseInt(x.best_price.slice(4,)) + " " + typeof parseInt(x.best_price.slice(4,)))
        return parseInt(y.best_price.slice(4,)) - parseInt(x.best_price.slice(4,));
    });
    DisplayDressing(data);
}
function LowToHigh() {
    data.sort(function (x, y) {
        console.log(parseInt(x.best_price.slice(4,)) + " " + typeof parseInt(x.best_price.slice(4,)))
        return parseInt(x.best_price.slice(4,)) - parseInt(y.best_price.slice(4,));
    });
    DisplayDressing(data);
}
function sortByDiscount() {
    data.sort(function (x, y) {
        console.log(parseInt(x.discount.slice(0, 2)) + " " + typeof parseInt(x.best_price.slice(4,)))
        return parseInt(y.discount.slice(0, 2)) - parseInt(x.discount.slice(0, 2));
    });
    DisplayDressing(data);
}
console.log(dressing)

 // -----------------checkBox Brand Logic----------------------------------
 var a=b=c=d=e=f=g=h=0; var count1=0;
 function funclick1(){
     if(count1==0){
         a=1;
         count1++;
     }else{
         a=0;
         count1--;
     }

     abc1();
 }
 var count2=0;
 function funclick2(){
     if(count2==0){
         b=1;
         count2++;
     }else{
         b=0;
         count2--;
     }
     abc2();
 }
 var count3=0;
 function funclick3(){
     if(count3==0){
         c=1;
         count3++;
     }else{
         c=0;
         count3--;
     }
     abc3();
 }
 var count4=0;
 function funclick4(){
     if(count4==0){
         d=1;
         count4++;
     }else{
         d=0;
         count4--;
     }
     abc4();
 }

 var count5=0;
 function funclick5(){
     if(count5==0){
         e=1;
         count5++;
     }else{
         e=0;
         count5--;
     }
     abc5();
 }
 var count6=0;
 function funclick6(){
     if(count6==0){
         f=1;
         count6++;
     }else{
         f=0;
         count6--;
     }
     abc6();
 }
 var count7=0;
 function funclick7(){
     if(count7==0){
         g=1;
         count7++;
     }else{
         g=0;
         count7--;
     }
     abc7();
 }
 var count8=0;
 function funclick8(){
     if(count8==0){
         h=1;
         count8++;
     }else{
         h=0;
         count8--;
     }
     abc8();
 }
 var checkBoxArr=[];
  ///////////////////////////////////////////
function abc1(){
   if(a==1){
     var w=[]
     data.map(function(ele){
       if(ele.company_name=="MKT: 3M india Ltd"){

        w.push(ele);
         DisplayDressing(w);
       }
     })
   }else{
     DisplayDressing(data);
   }
  }
function abc2(){
   if(b==1){
     var x=[]
     data.map(function(ele){
        if(ele.company_name=="MKT: Prime Medica Promotion Pvt.Ltd"){
          x.push(ele);
          DisplayDressing(x);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }
function abc3(){
    if(c==1){
     var y=[];
     data.map(function(ele){
        if(ele.company_name=="Ramaraju Surgical Cotton Mills Ltd"){
          y.push(ele);
          DisplayDressing(y);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }
function abc4(){
    if(d==1){
      var z=[];
      data.map(function(ele){
        if(ele.company_name=="MKT: Zywie Pharmaceutical Pvt.Ltd"){
          z.push(ele);
          DisplayDressing(z);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }
//--------------------- End of CheckBox Brand----------------------------

function abc5(){
    if(e==1){
      var w=[];
      data.map(function(ele){
        if(ele.company_name=="Mkt: Johnson & Johnson Pvt Ltd"){
          w.push(ele);
          DisplayDressing(w);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }

function abc6(){
    if(f==1){
      var z=[];
      data.map(function(ele){
        if(ele.company_name=="MKT: Datt Mediproducts Pvt.Ltd"){
          z.push(ele);
          DisplayDressing(z);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }

function abc7(){
    if(g==1){
      var z=[];
      data.map(function(ele){
        if(ele.company_name=="Mkt: Essity India Pvt Ltd"){
          z.push(ele);
          DisplayDressing(z);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }

function abc8(){
    if(h==1){
      var z=[];
      data.map(function(ele){
        if(ele.company_name=="MKT: 3M india Ltd"){
          z.push(ele);
          DisplayDressing(z);
        }
      })
    }else{
      DisplayDressing(data);
    }
   }

   ///////////////////////////////////////////////////////////

   function showVal(value) {
    console.log("input value:" + Number(value));
    let v = Number(value * 10);
    document.querySelector("#kl").innerHTML = v;
    //   console.log(());

    if (value == 0) {
      console.log("cancel selected");
      // console.log(dressing.length);
    } else if (value == 100) {
      console.log("ok selected");
    }

    //   dressing.map(function (el) {
    //     console.log(el.mrp_price);
    //     return el;
    //   });
    //   DisplayDressing(arr);
  }
  document.querySelector('input[type="range"]').ontouchend = function () {
    // clearInterval(document.init);
    var value = Number(this.value);
    if (value > 98) {
      console.log("ok selected");
      document.getElementById("rangeElement").disabled = true;
      return;
    } else if (value < 2) {
      console.log("cancel selected");
      document.getElementById("rangeElement").disabled = true;
      return;
    } else {
      //console.log("reset");
      if (value >= 50) {
        var rangeAnimIntervel = setInterval(function () {
          document.querySelector('input[type="range"]').value = value--;
          if (value == 50) {
            clearInterval(rangeAnimaIntervel);
            return;
          }
        }, 1);
      } else {
        var rangeAnimIntervel = setInterval(function () {
          document.querySelector('input[type="range"]').value = value++;
          if (value == 50) {
            clearInterval(rangeAnimaIntervel);
            return;
          }
        }, 1);
      }
    }
  };